{"version":3,"sources":["../src/quiz_protection.js"],"names":["define","$","str","ModalFactory","init","isvalid","hasinput","submit","e","each","is","preventDefault","create","body","get_string","then","modal","show","prop","M","core_question_engine","questionformalreadysubmitted"],"mappings":"AAOAA,OAAM,6CAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,oBAAvB,CAAD,CACN,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAA+B,CA0B3B,MAAO,CACHC,IAAI,CA1BG,QAAPA,CAAAA,IAAO,EAAW,IAEdC,CAAAA,CAAO,GAFO,CAGdC,CAAQ,GAHM,CAIlBL,CAAC,iBAAD,CAAUM,MAAV,CAAkB,SAASC,CAAT,CAAY,CAC1BP,CAAC,CAAC,6BAAD,CAAD,CAAiCQ,IAAjC,CAAsC,UAAW,CAC7CH,CAAQ,GAAR,CACA,GAAIL,CAAC,CAAC,IAAD,CAAD,CAAQS,EAAR,CAAW,UAAX,CAAJ,CAA4B,CACxBL,CAAO,GAEV,CACJ,CAND,EAQA,GAAIC,CAAQ,EAAI,CAACD,CAAjB,CAA0B,CACtBG,CAAC,CAACG,cAAF,GACAR,CAAY,CAACS,MAAb,CAAoB,CAChBC,IAAI,CAAEX,CAAG,CAACY,UAAJ,CAAe,cAAf,CAA+B,2BAA/B,CADU,CAApB,EAEGC,IAFH,CAEQ,SAASC,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAhB,CAAC,CAAC,sCAAD,CAAD,CAAwCiB,IAAxC,CAA6C,UAA7C,KACAC,CAAC,CAACC,oBAAF,CAAuBC,4BAAvB,GACH,CAND,CAOH,CACJ,CAnBD,CAoBH,CACM,CAGV,CA9BK,CAAN","sourcesContent":["/**\n * JavaScript class for quiz protection\n *\n * @subpackage quizproctoring\n * @copyright  2020 Mahendra Soni <ms@taketwotechnologies.com> {@link https://taketwotechnologies.com}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/str', 'core/modal_factory'],\nfunction($, str, ModalFactory) {\n    var init = function() {\n        var formid = \"#responseform\";\n        var isvalid = false;\n        var hasinput = false;\n        $(formid).submit( function(e) {\n            $(\"#responseform .answer input\").each(function (){\n                hasinput = true;\n                if ($(this).is(':checked')) {\n                    isvalid = true;\n                    return;\n                }\n            });\n\n            if (hasinput && !isvalid) {\n                e.preventDefault();\n                ModalFactory.create({\n                    body: str.get_string('selectanswer', 'quizaccess_quizproctoring'),\n                }).then(function(modal) {\n                    modal.show();\n                    $('#responseform input[type=\"submit\"]').prop('disabled', false);\n                    M.core_question_engine.questionformalreadysubmitted = false;\n                });\n            }\n        });\n    };\n    return {\n        init: init\n    };\n});\n"],"file":"quiz_protection.min.js"}