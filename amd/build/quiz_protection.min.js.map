{"version":3,"file":"quiz_protection.min.js","sources":["../src/quiz_protection.js"],"sourcesContent":["/**\n * JavaScript class for quiz protection\n *\n * @subpackage quizproctoring\n * @copyright  2020 Mahendra Soni <ms@taketwotechnologies.com> {@link https://taketwotechnologies.com}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/str', 'core/modal_factory'],\nfunction($, str, ModalFactory) {\n    var init = function() {\n        var formid = \"#responseform\";\n        var isvalid = false;\n        var hasinput = false;\n        $(formid).submit( function(e){\n            $(\"#responseform .answer input\").each(function () {\n                hasinput = true;\n                if ($(this).is(':checked')) {\n                    isvalid = true;\n                    return;\n                }\n            });\n\n            if (hasinput && !isvalid) {\n                e.preventDefault();\n                ModalFactory.create({\n                    body: str.get_string('selectanswer', 'quizaccess_quizproctoring'),\n                }).then(function(modal) {\n                    modal.show();\n                    $('#responseform input[type=\"submit\"]').prop('disabled', false);\n                    M.core_question_engine.questionformalreadysubmitted = false;\n                });\n            }\n        });\n    };\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","str","ModalFactory","init","isvalid","hasinput","submit","e","each","this","is","preventDefault","create","body","get_string","then","modal","show","prop","M","core_question_engine","questionformalreadysubmitted"],"mappings":";;;;;;;AAOAA,mDAAO,CAAC,SAAU,WAAY,uBAC9B,SAASC,EAAGC,IAAKC,oBA0BN,CACHC,KA1BO,eAEHC,SAAU,EACVC,UAAW,EACfL,EAHa,iBAGHM,QAAQ,SAASC,GACvBP,EAAE,+BAA+BQ,MAAK,WAClCH,UAAW,EACPL,EAAES,MAAMC,GAAG,cACXN,SAAU,MAKdC,WAAaD,UACbG,EAAEI,iBACFT,aAAaU,OAAO,CAChBC,KAAMZ,IAAIa,WAAW,eAAgB,+BACtCC,MAAK,SAASC,OACbA,MAAMC,OACNjB,EAAE,sCAAsCkB,KAAK,YAAY,GACzDC,EAAEC,qBAAqBC,8BAA+B"}