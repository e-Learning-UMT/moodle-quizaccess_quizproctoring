{"version":3,"sources":["../src/quiz_protection.js"],"names":["define","$","str","ModalFactory","init","isvalid","submit","e","each","is","preventDefault","create","body","get_string","then","modal","show","prop","M","core_question_engine","questionformalreadysubmitted"],"mappings":"AAQAA,OAAM,6CAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,oBAAvB,CAAD,CACN,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAA+B,CAwB3B,MAAO,CACHC,IAAI,CAxBG,QAAPA,CAAAA,IAAO,EAAW,IAEdC,CAAAA,CAAO,GAFO,CAGlBJ,CAAC,iBAAD,CAAUK,MAAV,CAAkB,SAASC,CAAT,CAAW,CACzBN,CAAC,CAAC,6BAAD,CAAD,CAAiCO,IAAjC,CAAsC,UAAY,CAC9C,GAAIP,CAAC,CAAC,IAAD,CAAD,CAAQQ,EAAR,CAAW,UAAX,CAAJ,CAA4B,CACxBJ,CAAO,GAEV,CACJ,CALD,EAOA,GAAI,CAACA,CAAL,CAAc,CACVE,CAAC,CAACG,cAAF,GACAP,CAAY,CAACQ,MAAb,CAAoB,CAChBC,IAAI,CAAEV,CAAG,CAACW,UAAJ,CAAe,cAAf,CAA+B,uBAA/B,CADU,CAApB,EAEGC,IAFH,CAEQ,SAASC,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAf,CAAC,CAAC,sCAAD,CAAD,CAAwCgB,IAAxC,CAA6C,UAA7C,KACAC,CAAC,CAACC,oBAAF,CAAuBC,4BAAvB,GACH,CAND,CAOH,CACJ,CAlBD,CAmBH,CACM,CAGV,CA5BK,CAAN","sourcesContent":["/**\n * JavaScript class for quiz protection\n *\n * @package    quizaccess\n * @subpackage proctoring\n * @copyright  2020 Mahendra Soni <ms@taketwotechnologies.com> {@link https://taketwotechnologies.com}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/str', 'core/modal_factory'],\nfunction($, str, ModalFactory) {\n    var init = function() {\n        var formid = \"#responseform\";\n        var isvalid = false;\n        $(formid).submit( function(e){\n            $(\"#responseform .answer input\").each(function () {\n                if ($(this).is(':checked')) {\n                    isvalid = true;\n                    return;\n                }\n            });\n\n            if (!isvalid) {\n                e.preventDefault();\n                ModalFactory.create({\n                    body: str.get_string('selectanswer', 'quizaccess_quizproctoring'),\n                }).then(function(modal) {\n                    modal.show();\n                    $('#responseform input[type=\"submit\"]').prop('disabled', false);\n                    M.core_question_engine.questionformalreadysubmitted = false;\n                });\n            }\n        });\n    };\n    return {\n        init: init\n    };\n});\n"],"file":"quiz_protection.min.js"}